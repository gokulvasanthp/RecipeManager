<div class="recipe-list-container">
  <div class="header">
    <h2>Recipes</h2>
    <div class="actions">
      <button class="btn btn-primary" (click)="createRecipe()">+ New Recipe</button>
      <label class="checkbox-label">
        <input type="checkbox" [(ngModel)]="displayInactive" (change)="toggleShowInactive()">
        Show Inactive
      </label>
    </div>
  </div>

  <div *ngIf="error" class="alert alert-error">{{ error }}</div>

  <div *ngIf="loading" class="loading">Loading recipes...</div>

  <div *ngIf="!loading && recipes.length === 0" class="empty-state">
    <p>No recipes found. <a (click)="createRecipe()" class="link">Create one</a></p>
  </div>

  <table *ngIf="!loading && recipes.length > 0" class="recipes-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Batch Size</th>
        <th>Unit</th>
        <th>Status</th>
        <th>Ingredients</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let recipe of recipes" [class.inactive]="!recipe.isActive">
        <td>{{ recipe.name }}</td>
        <td>{{ recipe.batchSize }}</td>
        <td>{{ recipe.unit }}</td>
        <td>
          <span [class]="'status ' + (recipe.isActive ? 'active' : 'inactive')">
            {{ recipe.isActive ? 'Active' : 'Inactive' }}
          </span>
        </td>
        <td>{{ recipe.ingredients?.length || 0 }}</td>
        <td class="actions">
          <button class="btn btn-small btn-edit" (click)="editRecipe(recipe.id)" title="Edit">Edit</button>
          <button class="btn btn-small btn-toggle" (click)="toggleRecipeActive(recipe)" 
                  [title]="recipe.isActive ? 'Deactivate' : 'Activate'">
            {{ recipe.isActive ? 'Deactivate' : 'Activate' }}
          </button>
          <button class="btn btn-small btn-delete" (click)="deleteRecipe(recipe.id)" title="Delete">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
